"use strict";(self.webpackChunk_rnx_kit_docsite=self.webpackChunk_rnx_kit_docsite||[]).push([[6503],{1074:(e,n,a)=>{a.d(n,{ZP:()=>s});var t=a(5893),r=a(1151);function i(e){const n={a:"a",p:"p",...(0,r.a)(),...e.components};return(0,t.jsxs)(n.p,{children:["Was this helpful? Help spread the word on\n",(0,t.jsx)(n.a,{href:"https://twitter.com/intent/tweet?text=.@ReactNativeMSFT&hashtags=rnxkit",children:"Twitter"}),"."]})}function s(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(i,{...e})}):i(e)}},6659:(e,n,a)=>{a.d(n,{ZP:()=>c});var t=a(5893),r=a(1151),i=a(4866),s=a(5162);function o(e){const n={code:"code",pre:"pre",...(0,r.a)(),...e.components};return(0,t.jsxs)(i.Z,{groupId:"package-manager",children:[(0,t.jsxs)(s.Z,{value:"yarn",label:"Yarn",default:!0,children:[(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"yarn rnx-align-deps --init app\n"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"yarn rnx-align-deps --init library\n"})})]}),(0,t.jsxs)(s.Z,{value:"pnpm",label:"pnpm",children:[(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"pnpm rnx-align-deps --init app\n"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"pnpm rnx-align-deps --init library\n"})})]}),(0,t.jsxs)(s.Z,{value:"npm",label:"npm",children:[(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"npx rnx-align-deps --init app\n"})}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"npx rnx-align-deps --init library\n"})})]})]})}function c(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},4018:(e,n,a)=>{a.d(n,{ZP:()=>d});var t=a(5893),r=a(1151),i=a(4866),s=a(5162),o=a(9286);function c(e){return(0,t.jsxs)(i.Z,{groupId:"package-manager",children:[(0,t.jsx)(s.Z,{value:"yarn",label:"Yarn",default:!0,children:(0,t.jsxs)(o.Z,{language:"sh",children:["yarn ",e.yarnArgs||e.args]})}),(0,t.jsx)(s.Z,{value:"pnpm",label:"pnpm",children:(0,t.jsxs)(o.Z,{language:"sh",children:["pnpm ",e.pnpmArgs||e.args]})}),(0,t.jsx)(s.Z,{value:"npm",label:"npm",children:(0,t.jsxs)(o.Z,{language:"sh",children:["npm ",e.npmArgs||e.args]})})]})}function d(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},6579:(e,n,a)=>{a.d(n,{ZP:()=>d});var t=a(5893),r=a(1151),i=a(4866),s=a(5162),o=a(9286);function c(e){return(0,t.jsxs)(i.Z,{groupId:"package-manager",children:[(0,t.jsx)(s.Z,{value:"yarn",label:"Yarn",default:!0,children:(0,t.jsxs)(o.Z,{language:"sh",children:["yarn ",e.yarnArgs||e.args]})}),(0,t.jsx)(s.Z,{value:"pnpm",label:"pnpm",children:(0,t.jsxs)(o.Z,{language:"sh",children:["pnpm ",e.pnpmArgs||e.args]})}),(0,t.jsx)(s.Z,{value:"npm",label:"npm",children:(0,t.jsxs)(o.Z,{language:"sh",children:["npx ",e.npxArgs||e.args]})})]})}function d(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},641:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>p,contentTitle:()=>l,default:()=>m,frontMatter:()=>d,metadata:()=>u,toc:()=>h});var t=a(5893),r=a(1151),i=a(6659),s=a(4018),o=a(6579),c=a(1074);const d={},l="Dependency Management",u={id:"guides/dependency-management",title:"Dependency Management",description:"Ready for some magic? This guide will fundamentally change the way you maintain",source:"@site/docs/guides/dependency-management.mdx",sourceDirName:"guides",slug:"/guides/dependency-management",permalink:"/rnx-kit/docs/guides/dependency-management",draft:!1,unlisted:!1,editUrl:"https://github.com/microsoft/rnx-kit/tree/main/docsite/docs/guides/dependency-management.mdx",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Getting Started",permalink:"/rnx-kit/docs/guides/getting-started"},next:{title:"Bundling",permalink:"/rnx-kit/docs/guides/bundling"}},p={},h=[{value:"Onboarding",id:"onboarding",level:2},{value:"Automating Everything",id:"automating-everything",level:2},{value:"Builds",id:"builds",level:3},{value:"Pull Requests",id:"pull-requests",level:3},{value:"Dependency Manager Updates",id:"dependency-manager-updates",level:3},{value:"Upgrading React Native",id:"upgrading-react-native",level:2},{value:"Customization",id:"customization",level:2},{value:"Finish Line",id:"finish-line",level:2}];function g(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"dependency-management",children:"Dependency Management"}),"\n",(0,t.jsx)(n.p,{children:"Ready for some magic? This guide will fundamentally change the way you maintain\nyour React Native applications and libraries. It all centers on one tool -- the\ndependency manager."}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["Not quite ready to make the leap? Learn more about\n",(0,t.jsx)(n.a,{href:"/docs/dependencies",children:"dependencies"})," first."]})}),"\n",(0,t.jsx)(n.h2,{id:"onboarding",children:"Onboarding"}),"\n",(0,t.jsx)(n.p,{children:"The first order of business is onboarding your React Native packages to the\ndependency manager. Do this for every React Native package you have. It can be\ndone all at once, or gradually over multiple PRs."}),"\n",(0,t.jsx)(n.p,{children:"First, add the dependency manager to your package."}),"\n",(0,t.jsx)(s.ZP,{yarnArgs:"add @rnx-kit/align-deps --dev",pnpmArgs:"add -D @rnx-kit/align-deps",npmArgs:"add --save-dev @rnx-kit/align-deps"}),"\n",(0,t.jsx)(n.p,{children:"Add new script commands for convenience. We'll use these later."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",metastring:'title="package.json"',children:'{\n  "scripts": {\n    "check-dependencies": "rnx-align-deps",\n    "fix-dependencies": "rnx-align-deps --write"\n  }\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Next, generate the dependency manager configuration for your package. If your\npackage produces a bundle, it's an ",(0,t.jsx)(n.code,{children:"app"}),". Otherwise, it's a ",(0,t.jsx)(n.code,{children:"library"}),"."]}),"\n",(0,t.jsx)(i.ZP,{}),"\n",(0,t.jsx)(n.p,{children:"Fix any React Native package versions that might have compatibility issues."}),"\n",(0,t.jsx)(o.ZP,{args:"fix-dependencies"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Review"})," and ",(0,t.jsx)(n.strong,{children:"test"})," your changes before committing. This is important, even\nfor seemingly harmless updates."]}),"\n",(0,t.jsx)(n.h2,{id:"automating-everything",children:"Automating Everything"}),"\n",(0,t.jsx)(n.p,{children:"Once onboarding is done, you're ready to set up automation."}),"\n",(0,t.jsx)(n.p,{children:"Automation validates your React Native dependencies during builds and PRs. It\nalso keeps the dependency manager up-to-date, including the built-in list of\nknown/good React Native package versions and releases. This list can change\nfrequently, based on the volatility of the React Native ecosystem."}),"\n",(0,t.jsx)(n.h3,{id:"builds",children:"Builds"}),"\n",(0,t.jsxs)(n.p,{children:["To validate dependencies during a build, you'll integrate the\n",(0,t.jsx)(n.code,{children:"check-dependencies"})," command into your build workflow."]}),"\n",(0,t.jsxs)(n.p,{children:["In each of your React Native packages, add it to the ",(0,t.jsx)(n.code,{children:"build"})," command:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",metastring:'title="package.json"',children:'{\n  "scripts": {\n    "build": "... existing-stuff ... && yarn fix-dependencies"\n  }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.em,{children:["Replace ",(0,t.jsx)(n.code,{children:"yarn"})," with ",(0,t.jsx)(n.code,{children:"npm run"})," or ",(0,t.jsx)(n.code,{children:"pnpm"}),", depending on your package manager."]})}),"\n",(0,t.jsx)(n.p,{children:"When the validation process finds a compatibility problem, it fails with a\ndetailed message, showing you what went wrong before you commit to the repo."}),"\n",(0,t.jsx)(n.admonition,{title:"Using a Task Runner?",type:"tip",children:(0,t.jsxs)(n.p,{children:["If you're using a task runner like Lage or Gulp, you can go for a more\nsophisticated integration. The advantage being that ",(0,t.jsx)(n.code,{children:"fix-dependencies"})," could run\nas its own task with isolated logging and error handling. And, you can run it in\nparallel with other tasks."]})}),"\n",(0,t.jsx)(n.h3,{id:"pull-requests",children:"Pull Requests"}),"\n",(0,t.jsx)(n.p,{children:"To validate dependencies during PRs, you'll use the dependency manager to check\nevery package in your repo."}),"\n",(0,t.jsx)(n.p,{children:"Add the dependency manager to your repo's root package.json."}),"\n",(0,t.jsx)(s.ZP,{yarnArgs:"add @rnx-kit/align-deps --dev -W",pnpmArgs:"add -D @rnx-kit/align-deps",npmArgs:"add --save-dev @rnx-kit/align-deps"}),"\n",(0,t.jsxs)(n.p,{children:["Next, add this command to your PR loop. It runs the dependency manager from the\nroot of the repo, scanning all packages. This include packages which haven't\nonboarded yet. For those, ",(0,t.jsx)(n.code,{children:"--requirements react-native@[version]"})," controls the\ntarget React Native release to use when checking compatibility."]}),"\n",(0,t.jsx)(o.ZP,{args:"rnx-align-deps --requirements react-native@0.66"}),"\n",(0,t.jsx)(n.p,{children:"When a compatibility problem is found, the command fails with a non-zero exit\ncode, which causes the PR loop to fail. This protects the repo from risky\nchanges."}),"\n",(0,t.jsxs)(n.p,{children:["In the PR logs, you'll see a detailed report, in ",(0,t.jsx)(n.code,{children:"diff"})," format, explaining what\nwent wrong."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-diff",children:'error Found 3 violation(s) in \'packages/app/package.json\':\n    react-native "^0.66.0" -> "^0.66.0-0" (dependencies)\n    react-native-macos "^0.66.0" -> "^0.66.0-0" (dependencies)\n    react-native-windows "^0.66.0" -> "^0.66.0-0" (dependencies)\n- Current\n+ Expected\n\n  {\n    "name": "@rnts/button",\n    "version": "0.0.1",\n    "private": true,\n    "license": "MIT",\n    "main": "src/index.ts",\n    "typings": "lib/index.d.ts",\n    "scripts": {\n      "clean": "rimraf ./lib",\n      "build": "yarn run clean && yarn run tsc && yarn run api-extract",\n      "api-extract": "api-extractor run --local --verbose"\n    },\n    "devDependencies": {\n      "@microsoft/api-extractor": "^7.19.4",\n      "@office-iss/react-native-win32": "^0.66.0",\n      "@rnx-kit/align-deps": "^2.0.0",\n      "@types/react-native": "^0.66.0",\n-     "rimraf": "^3.0.2",\n      "react": "17.0.2",\n-     "react-native": "^0.66.0",\n-     "react-native-macos": "^0.66.0",\n-     "react-native-windows": "^0.66.0",\n+     "react-native": "^0.66.0-0",\n+     "react-native-macos": "^0.66.0-0",\n+     "react-native-windows": "^0.66.0-0",\n+     "rimraf": "^3.0.2",\n      "typescript": "^4.5.5"\n    },\n    "rnx-kit": {\n      "kitType": "library",\n      "alignDeps": {\n        "requirements": {\n          "development": ["react-native@0.66"],\n          "production": ["react-native@0.66"]\n        },\n        "capabilities": [\n          "core-android",\n          "core-ios",\n          "core-macos",\n          "core-windows",\n          "react"\n        ]\n      }\n+   },\n+   "peerDependencies": {\n+     "react": "17.0.2",\n+     "react-native": "^0.66.0-0",\n+     "react-native-macos": "^0.66.0-0",\n+     "react-native-windows": "^0.66.0-0"\n    }\n  }\nerror \'packages/button/package.json\': Changes are needed to satisfy all requirements. Re-run with `--write` to apply them.\ninfo Visit https://aka.ms/align-deps information about align-deps.\nerror Command failed with exit code 1.\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Fixing problems is automated, too! From your development terminal, run the same\ncommand with a ",(0,t.jsx)(n.code,{children:"--write"})," parameter."]}),"\n",(0,t.jsx)(o.ZP,{args:"rnx-align-deps --requirements react-native@0.66 --write"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Review"})," and ",(0,t.jsx)(n.strong,{children:"test"})," the fixes before pushing them to your PR."]}),"\n",(0,t.jsx)(n.h3,{id:"dependency-manager-updates",children:"Dependency Manager Updates"}),"\n",(0,t.jsxs)(n.p,{children:["The dependency manager comes with a\n",(0,t.jsx)(n.a,{href:"https://github.com/microsoft/rnx-kit/tree/main/packages/align-deps#capabilities",children:"built-in list"}),"\nof known/good React Native package versions and releases. Keeping the dependency\nmanager up-to-date gives you the latest compatibility data."]}),"\n",(0,t.jsx)(n.p,{children:"If you are in GitHub, use Dependabot to keep your packages up-to-date, including\nthe dependency manager. If you host your repo elsewhere, you can use tools like\nSnyk instead."}),"\n",(0,t.jsx)(n.p,{children:"When a dependency manager update happens, the associated PR loop may fail with\nincompatible package errors. This is OK. It means the built-in list of React\nNative package versions has changed, and you need to update your packages in\nresponse."}),"\n",(0,t.jsx)(n.p,{children:"Run this command from the root of your repo. It uses the dependency manager to\nmake the fixes automatically."}),"\n",(0,t.jsx)(o.ZP,{args:"rnx-align-deps --write"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Review"})," and ",(0,t.jsx)(n.strong,{children:"test"})," the fixes before pushing them to the PR with the\ndependency manager update."]}),"\n",(0,t.jsx)(n.h2,{id:"upgrading-react-native",children:"Upgrading React Native"}),"\n",(0,t.jsx)(n.p,{children:"When you're ready to upgrade to a new release of React Native (or downgrade to\nan old release), you can use the dependency manager to help you out."}),"\n",(0,t.jsxs)(n.p,{children:["First, update your PR loop definition. Find the\n",(0,t.jsx)(n.code,{children:"rnx-align-deps --requirements react-native@[version]"})," command and change the\ntarget React Native version."]}),"\n",(0,t.jsxs)(n.p,{children:["Then, run these commands from the root of your repo to change your React Native\nversion and adjust all React Native dependencies to be compatible. Replace\n",(0,t.jsx)(n.code,{children:"[version]"})," with your target React Native version in ",(0,t.jsx)(n.code,{children:"major.minor"}),' format, such\nas "0.66" or "0.68".']}),"\n",(0,t.jsx)(o.ZP,{args:"rnx-align-deps --set-version [version]"}),"\n",(0,t.jsx)(o.ZP,{args:"rnx-align-deps --requirements react-native@[version] --write"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Review"})," and ",(0,t.jsx)(n.strong,{children:"test"})," your packages thoroughly before merging these changes."]}),"\n",(0,t.jsx)(n.h2,{id:"customization",children:"Customization"}),"\n",(0,t.jsxs)(n.p,{children:["Did you know that you can add your own packages to the dependency manager's\n",(0,t.jsx)(n.a,{href:"https://github.com/microsoft/rnx-kit/tree/main/packages/align-deps#capabilities",children:"built-in list"}),"?"]}),"\n",(0,t.jsx)(n.p,{children:"If your repo uses React Native packages that aren't known to the dependency\nmanager, add them to the list! Or if you want to align other dependencies\nautomatically, add them to the list too!"}),"\n",(0,t.jsxs)(n.p,{children:["First, write the list of packages you want to manage. Each one is expressed as a\n",(0,t.jsx)(n.a,{href:"/docs/dependencies#capabilities-and-profiles",children:"capability"}),". You can use a ",(0,t.jsx)(n.code,{children:".js"}),"\nmodule, a ",(0,t.jsx)(n.code,{children:".json"})," file, or a module name."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",metastring:'title="dependency-profile.json"',children:'{\n  "0.66": {\n    "@types/node": {\n      "name": "@types/node",\n      "version": "^16.0.0",\n      "devOnly": true\n    },\n    "chalk": {\n      "name": "chalk",\n      "version": "^4.1.0"\n    },\n    "native-base": {\n      "name": "native-base",\n      "version": "^3.3.11",\n      "capabilities": ["react"]\n    }\n  }\n}\n'})}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["Look at ",(0,t.jsx)(n.code,{children:"native-base"})," in the example above. It's wrapped in a ",(0,t.jsx)(n.code,{children:"0.66"})," version\ntag. That means it only applies to React Native 0.66."]})}),"\n",(0,t.jsx)(n.p,{children:"Next, configure each of your onboarded React Native packages to use the list."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-diff",metastring:'title="package.json"',children:' {\n   "rnx-kit": {\n     "alignDeps": {\n+      "presets": [\n+        "microsoft/react-native",\n+        "path/to/dependency-profile.json"\n+      ],\n       "requirements": {\n         "development": ["react-native@0.66"],\n         "production": ["react-native@0.66"]\n       },\n       "capabilities": [\n         "core-android",\n         "core-ios",\n         "core-macos",\n         "core-windows",\n         "react"\n       ]\n     }\n   }\n }\n'})}),"\n",(0,t.jsx)(n.p,{children:"Now it's time to use the list. Run the dependency manager to update all of your\npackages."}),"\n",(0,t.jsx)(o.ZP,{args:"rnx-align-deps --requirements react-native@0.66 --presets microsoft/react-native,path/to/dependency-profile.json --write"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Review"})," and ",(0,t.jsx)(n.strong,{children:"test"})," the changes before continuing."]}),"\n",(0,t.jsxs)(n.p,{children:["The last step is updating the automation. Each command needs an extra\n",(0,t.jsx)(n.code,{children:"--presets [paths]"})," parameter."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Pull Requests: Change the ",(0,t.jsx)(n.code,{children:"rnx-align-deps --requirements react-native@[version]"})," command"]}),"\n",(0,t.jsxs)(n.li,{children:["Dependency Manager Updates: Change the ",(0,t.jsx)(n.code,{children:"rnx-align-deps --write"})," command"]}),"\n",(0,t.jsxs)(n.li,{children:["Upgrading React Native: Change the\n",(0,t.jsx)(n.code,{children:"rnx-align-deps --requirements react-native@[version] --write"})," command"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"finish-line",children:"Finish Line"}),"\n",(0,t.jsx)(n.p,{children:"Congratulations! Your React Native apps and libraries are now up-to-date and\ncompatible with each other! And they should stay that way thanks to the\nautomation you've put in place!"}),"\n",(0,t.jsx)(c.ZP,{}),"\n",(0,t.jsxs)(n.p,{children:["And, if you customized your list of dependencies, please consider\n",(0,t.jsx)(n.a,{href:"/docs/contributing",children:"contributing"})," your work so that everyone can use it\n(including you). You can\n",(0,t.jsxs)(n.a,{href:"https://github.com/microsoft/rnx-kit/issues/new?title=Dependency%20Manager%20Customizations&body=%3c%21--%20Please%20add%20your%20custom%20dependency%20list%20here.%20--%3e%0a%0a",children:["create an ",(0,t.jsx)(n.strong,{children:"issue"})," with your customizations"]}),"\nor even ",(0,t.jsxs)(n.a,{href:"https://github.com/microsoft/rnx-kit/pulls",children:["submit a ",(0,t.jsx)(n.strong,{children:"pull request"})]}),"."]})]})}function m(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(g,{...e})}):g(e)}},5162:(e,n,a)=>{a.d(n,{Z:()=>s});a(7294);var t=a(6905);const r={tabItem:"tabItem_Ymn6"};var i=a(5893);function s(e){let{children:n,hidden:a,className:s}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,t.Z)(r.tabItem,s),hidden:a,children:n})}},4866:(e,n,a)=>{a.d(n,{Z:()=>w});var t=a(7294),r=a(6905),i=a(2466),s=a(6550),o=a(469),c=a(1980),d=a(7392),l=a(12);function u(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:a}=e;return(0,t.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:a,attributes:t,default:r}}=e;return{value:n,label:a,attributes:t,default:r}}))}(a);return function(e){const n=(0,d.l)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,a])}function h(e){let{value:n,tabValues:a}=e;return a.some((e=>e.value===n))}function g(e){let{queryString:n=!1,groupId:a}=e;const r=(0,s.k6)(),i=function(e){let{queryString:n=!1,groupId:a}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:n,groupId:a});return[(0,c._X)(i),(0,t.useCallback)((e=>{if(!i)return;const n=new URLSearchParams(r.location.search);n.set(i,e),r.replace({...r.location,search:n.toString()})}),[i,r])]}function m(e){const{defaultValue:n,queryString:a=!1,groupId:r}=e,i=p(e),[s,c]=(0,t.useState)((()=>function(e){let{defaultValue:n,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const t=a.find((e=>e.default))??a[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:i}))),[d,u]=g({queryString:a,groupId:r}),[m,x]=function(e){let{groupId:n}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,i]=(0,l.Nk)(a);return[r,(0,t.useCallback)((e=>{a&&i.set(e)}),[a,i])]}({groupId:r}),y=(()=>{const e=d??m;return h({value:e,tabValues:i})?e:null})();(0,o.Z)((()=>{y&&c(y)}),[y]);return{selectedValue:s,selectValue:(0,t.useCallback)((e=>{if(!h({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);c(e),u(e),x(e)}),[u,x,i]),tabValues:i}}var x=a(2389);const y={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=a(5893);function j(e){let{className:n,block:a,selectedValue:t,selectValue:s,tabValues:o}=e;const c=[],{blockElementScrollPositionUntilNextRender:d}=(0,i.o5)(),l=e=>{const n=e.currentTarget,a=c.indexOf(n),r=o[a].value;r!==t&&(d(n),s(r))},u=e=>{let n=null;switch(e.key){case"Enter":l(e);break;case"ArrowRight":{const a=c.indexOf(e.currentTarget)+1;n=c[a]??c[0];break}case"ArrowLeft":{const a=c.indexOf(e.currentTarget)-1;n=c[a]??c[c.length-1];break}}n?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":a},n),children:o.map((e=>{let{value:n,label:a,attributes:i}=e;return(0,v.jsx)("li",{role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:e=>c.push(e),onKeyDown:u,onClick:l,...i,className:(0,r.Z)("tabs__item",y.tabItem,i?.className,{"tabs__item--active":t===n}),children:a??n},n)}))})}function f(e){let{lazy:n,children:a,selectedValue:r}=e;const i=(Array.isArray(a)?a:[a]).filter(Boolean);if(n){const e=i.find((e=>e.props.value===r));return e?(0,t.cloneElement)(e,{className:"margin-top--md"}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==r})))})}function b(e){const n=m(e);return(0,v.jsxs)("div",{className:(0,r.Z)("tabs-container",y.tabList),children:[(0,v.jsx)(j,{...e,...n}),(0,v.jsx)(f,{...e,...n})]})}function w(e){const n=(0,x.Z)();return(0,v.jsx)(b,{...e,children:u(e.children)},String(n))}}}]);