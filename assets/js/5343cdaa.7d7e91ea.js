"use strict";(self.webpackChunk_rnx_kit_docsite=self.webpackChunk_rnx_kit_docsite||[]).push([[55],{8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var d=s(6540);const i={},t=d.createContext(i);function r(e){const n=d.useContext(t);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),d.createElement(t.Provider,{value:n},e.children)}},9873:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>a,frontMatter:()=>r,metadata:()=>d,toc:()=>o});const d=JSON.parse('{"id":"tools/types-bundle-config","title":"types-bundle-config","description":"Build","source":"@site/docs/tools/types-bundle-config.md","sourceDirName":"tools","slug":"/tools/types-bundle-config","permalink":"/rnx-kit/docs/tools/types-bundle-config","draft":false,"unlisted":false,"editUrl":"https://github.com/microsoft/rnx-kit/tree/main/docsite/docs/tools/types-bundle-config.md","tags":[],"version":"current","frontMatter":{},"sidebar":"toolsSidebar","previous":{"title":"tsconfig","permalink":"/rnx-kit/docs/tools/tsconfig"},"next":{"title":"types-kit-config","permalink":"/rnx-kit/docs/tools/types-kit-config"}}');var i=s(4848),t=s(8453);const r={},l="types-bundle-config",c={},o=[{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Types",id:"types",level:2},{value:"Bundle Configuration",id:"bundle-configuration",level:3},{value:"<code>BundleConfig</code>",id:"bundleconfig",level:4},{value:"<code>BundleParameters</code>",id:"bundleparameters",level:4},{value:"<code>BundleOutputOptions</code>",id:"bundleoutputoptions",level:4},{value:"<code>HermesOptions</code>",id:"hermesoptions",level:4},{value:"Server Configuration",id:"server-configuration",level:3},{value:"<code>ServerConfig</code>",id:"serverconfig",level:4},{value:"Bundler Plugin Types",id:"bundler-plugin-types",level:3},{value:"<code>Plugin</code>",id:"plugin",level:4},{value:"Platform Types",id:"platform-types",level:3},{value:"<code>AllPlatforms</code>",id:"allplatforms",level:4},{value:"<code>ALL_PLATFORM_VALUES</code>",id:"all_platform_values",level:4}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"types-bundle-config",children:"types-bundle-config"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://github.com/microsoft/rnx-kit/actions/workflows/build.yml",children:(0,i.jsx)(n.img,{src:"https://github.com/microsoft/rnx-kit/actions/workflows/build.yml/badge.svg",alt:"Build"})}),"\n",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@rnx-kit/types-bundle-config",children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@rnx-kit/types-bundle-config",alt:"npm version"})})]}),"\n",(0,i.jsx)(n.p,{children:"TypeScript type definitions for Metro bundling configuration, bundler plugins,\nserver configuration, and React Native platform targets. This package exists to\nbreak circular dependencies between rnx-kit packages that share these types."}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"yarn add @rnx-kit/types-bundle-config --dev\n"})}),"\n",(0,i.jsx)(n.p,{children:"or if you're using npm"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"npm add --save-dev @rnx-kit/types-bundle-config\n"})}),"\n",(0,i.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import type {\n  BundleConfig,\n  BundleParameters,\n  ServerConfig,\n  AllPlatforms,\n  Plugin,\n} from "@rnx-kit/types-bundle-config";\n'})}),"\n",(0,i.jsx)(n.h2,{id:"types",children:"Types"}),"\n",(0,i.jsx)(n.h3,{id:"bundle-configuration",children:"Bundle Configuration"}),"\n",(0,i.jsx)(n.h4,{id:"bundleconfig",children:(0,i.jsx)(n.code,{children:"BundleConfig"})}),"\n",(0,i.jsxs)(n.p,{children:["Defines how a package is bundled. Extends ",(0,i.jsx)(n.code,{children:"BundleParameters"})," with\nplatform-specific overrides."]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Name"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"id"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string | undefined"})}),(0,i.jsx)(n.td,{children:"Unique identifier for this bundle configuration."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"targets"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"AllPlatforms[] | undefined"})}),(0,i.jsx)(n.td,{children:"The platform(s) for which this package may be bundled."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"platforms"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Partial<Record<AllPlatforms, BundleParameters>>"})}),(0,i.jsx)(n.td,{children:"Platform-specific overrides for bundling parameters."})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"bundleparameters",children:(0,i.jsx)(n.code,{children:"BundleParameters"})}),"\n",(0,i.jsxs)(n.p,{children:["Parameters controlling how a bundle is constructed. Extends ",(0,i.jsx)(n.code,{children:"BundlerPlugins"})," and\n",(0,i.jsx)(n.code,{children:"BundleOutputOptions"}),"."]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Name"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"entryFile"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string | undefined"})}),(0,i.jsx)(n.td,{children:"Path to the entry-point .js file. Either absolute or relative to package."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"assetsDest"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string | undefined"})}),(0,i.jsx)(n.td,{children:"Path where bundle assets are written."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"treeShake"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean | SerializerEsbuildOptions"})}),(0,i.jsx)(n.td,{children:"Enable tree shaking via esbuild."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"hermes"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean | HermesOptions"})}),(0,i.jsx)(n.td,{children:"Whether to run the Hermes compiler on the output bundle."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"plugins"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Plugin[]"})}),(0,i.jsx)(n.td,{children:"List of plugins to add to the bundling process."})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"bundleoutputoptions",children:(0,i.jsx)(n.code,{children:"BundleOutputOptions"})}),"\n",(0,i.jsxs)(n.p,{children:["Output path and encoding options for a bundle, derived from Metro's\n",(0,i.jsx)(n.code,{children:"OutputOptions"}),"."]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Name"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"bundleOutput"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string | undefined"})}),(0,i.jsx)(n.td,{children:"Path to the output bundle file."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"bundleEncoding"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string | undefined"})}),(0,i.jsx)(n.td,{children:"Encoding scheme (UTF-8, UTF-16 LE, or 7-bit ASCII)."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"sourcemapOutput"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string | undefined"})}),(0,i.jsx)(n.td,{children:"Path for the bundle source map file."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"sourcemapSourcesRoot"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string | undefined"})}),(0,i.jsx)(n.td,{children:"Path to package source files for portable source-map paths."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"sourcemapUseAbsolutePath"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean | undefined"})}),(0,i.jsx)(n.td,{children:"Whether SourceMapURL is reported as a full path or just a file name."})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"hermesoptions",children:(0,i.jsx)(n.code,{children:"HermesOptions"})}),"\n",(0,i.jsx)(n.p,{children:"Options for the Hermes bytecode compiler."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Name"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"command"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string | undefined"})}),(0,i.jsxs)(n.td,{children:["Path to ",(0,i.jsx)(n.code,{children:"hermesc"})," binary."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"flags"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[] | undefined"})}),(0,i.jsxs)(n.td,{children:["Arguments passed to ",(0,i.jsx)(n.code,{children:"hermesc"}),"."]})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"server-configuration",children:"Server Configuration"}),"\n",(0,i.jsx)(n.h4,{id:"serverconfig",children:(0,i.jsx)(n.code,{children:"ServerConfig"})}),"\n",(0,i.jsxs)(n.p,{children:["Configuration for the Metro bundle server. Extends ",(0,i.jsx)(n.code,{children:"BundlerPlugins"}),"."]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Name"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"projectRoot"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string | undefined"})}),(0,i.jsx)(n.td,{children:"Path to the root of the react-native project."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"assetPlugins"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[] | undefined"})}),(0,i.jsx)(n.td,{children:"Additional asset plugins for the Metro Babel transformer."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"sourceExts"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[] | undefined"})}),(0,i.jsx)(n.td,{children:"Additional source-file extensions to include when generating bundles."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"plugins"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Plugin[]"})}),(0,i.jsx)(n.td,{children:"List of plugins to add to the bundling process."})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"bundler-plugin-types",children:"Bundler Plugin Types"}),"\n",(0,i.jsx)(n.h4,{id:"plugin",children:(0,i.jsx)(n.code,{children:"Plugin"})}),"\n",(0,i.jsxs)(n.p,{children:["A plugin is either a module name string or a tuple of ",(0,i.jsx)(n.code,{children:"[name, options]"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"platform-types",children:"Platform Types"}),"\n",(0,i.jsx)(n.h4,{id:"allplatforms",children:(0,i.jsx)(n.code,{children:"AllPlatforms"})}),"\n",(0,i.jsx)(n.p,{children:"Union type of supported React Native platforms:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'type AllPlatforms =\n  | "android"\n  | "ios"\n  | "macos"\n  | "visionos"\n  | "web"\n  | "win32"\n  | "windows";\n'})}),"\n",(0,i.jsx)(n.h4,{id:"all_platform_values",children:(0,i.jsx)(n.code,{children:"ALL_PLATFORM_VALUES"})}),"\n",(0,i.jsx)(n.p,{children:"Constant array containing all platform values (useful for iteration):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'const ALL_PLATFORM_VALUES = [\n  "android",\n  "ios",\n  "macos",\n  "visionos",\n  "web",\n  "win32",\n  "windows",\n] as const;\n'})})]})}function a(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}}}]);